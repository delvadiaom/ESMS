"use strict";(self.webpackChunksidenav=self.webpackChunksidenav||[]).push([[510],{1510:(S,g,r)=>{r.r(g),r.d(g,{DashboardModule:()=>B});var d=r(6895),p=r(9299),h=r(4589),t=r(4650),l=r(529);let m=(()=>{class n{constructor(o){this._httpClient=o,this._apiURL="http://192.168.102.92:8111/dashboard/",this.token=sessionStorage.getItem("token")}getDashboardData(){return this._httpClient.get(this._apiURL,{headers:new l.WM({token:this.token})})}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(l.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=r(3104),x=r(5037),_=r(5412),v=r(222),D=r(7441),C=r(1572),f=r(3162);function M(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"mat-progress-spinner",10),t.qZA())}function O(n,a){if(1&n&&(t.TgZ(0,"a",12),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const o=a.$implicit;t.MGl("routerLink","/departments/",o.departmentId,""),t.xp6(1),t.Oqu(t.lcZ(2,2,o.departmentName))}}function w(n,a){if(1&n&&(t.ynx(0),t.YNc(1,O,3,4,"a",11),t.BQk()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.departmentList)}}function y(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"mat-progress-spinner",10),t.qZA())}function P(n,a){if(1&n&&t._UZ(0,"app-main-card",16),2&n){const o=a.$implicit;t.Q6J("cardData",o)("cardRoute",o.routeLink)}}function L(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",17),t._UZ(2,"app-graph-card",18)(3,"app-graph-card",18),t.qZA(),t.BQk()),2&n){const o=t.oxw(2);t.xp6(2),t.Q6J("chartoptions",o.salaryChart),t.xp6(1),t.Q6J("chartoptions",o.genderChart)}}function T(n,a){if(1&n&&(t._UZ(0,"hr"),t.TgZ(1,"div",13),t.YNc(2,y,2,0,"div",5),t.TgZ(3,"div",14),t.YNc(4,P,1,2,"app-main-card",15),t.qZA(),t.YNc(5,L,4,2,"ng-container",6),t.qZA()),2&n){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(2),t.Q6J("ngForOf",o.dashCardData),t.xp6(1),t.Q6J("ngIf",!o.isLoading)}}function Z(n,a){1&n&&t._UZ(0,"mat-progress-bar",19)}const k=[{path:"",component:(()=>{class n{constructor(o,e,i,s,c){this._dashboardApi=o,this._chartService=e,this._departmentApi=i,this.dialog=s,this.router=c,this.isdropdownLoading=!1,this.isLoading=!0}ngOnInit(){this.isLoading=!0;let o=this._dashboardApi.getDashboardData().subscribe({next:e=>{this._dashboardData=e,this.setData(),this.createChart()},error:e=>{console.log(e.status),401!=e.status?this.router.navigate(["something-went-wrong"]):this.dialog.open(h.q,{panelClass:"modal",data:{},width:"500px",backdropClass:"backdropBackground",disableClose:!0})},complete:()=>{o.unsubscribe()}})}onDropdownBtnClick(o){if("dropdown-btn"==o&&!this.departmentList){this.isdropdownLoading=!0;let e=this._departmentApi.getDepartmentData().subscribe({next:i=>{this.departmentList=i},error:i=>{401==i.status?this.router.navigate(["something-went-wrong"]):this.dialog.open(h.q,{panelClass:"modal",width:"500px",backdropClass:"backdropBackground",disableClose:!0})},complete:()=>{this.isdropdownLoading=!1,e.unsubscribe()}})}}createChart(){let o=s=>{let c=[];for(let[F,J]of Object.entries(s))c.push({name:F,y:J});return c},e={colors:["#4b49ac"],title:"Year Wise Expense",innerData:o(this._dashboardData.yearWiseTotalPayout),yAxisText:"Total Expense"},i={colors:["rgb(95,167,79)","rgb(76,177,241)"],title:"Gender Ratio",innerData:o({Male:this._dashboardData.totalMale,Female:this._dashboardData.totalFemale})};this.salaryChart=this._chartService.getBarChart(e),this.genderChart=this._chartService.getPieChart(i),this.isLoading=!1}setData(){this.dashCardData=[{routeLink:"/departments",icon:"fas fa-building",title:"Total Departments",data:this._dashboardData.totalDepartments,colorClass:"green"},{routeLink:"/employees",icon:"fa-solid fa-briefcase",title:"Total Employees",data:this._dashboardData.totalEmployees,colorClass:"blue"},{itsCurrency:!0,routeLink:"/reports",icon:"fas fa-sack-dollar",title:"Total Costing",data:this._dashboardData.totalPayout,colorClass:"red"},{routeLink:"/departments",icon:"fad fa-users-class",title:"Total Teams",data:this._dashboardData.totalTeams,colorClass:"black"}]}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m),t.Y36(u.C),t.Y36(x.R),t.Y36(_.uw),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-component"]],hostBindings:function(o,e){1&o&&t.NdJ("mouseover",function(s){return e.onDropdownBtnClick(s.target.id)})},decls:12,vars:4,consts:[[1,"header"],[1,"dropdown"],["id","dropdown-btn",1,"button-31","dropbtn"],[1,"fas","fa-chevron-down"],[1,"dropdown-content"],["class","isLoading",4,"ngIf"],[4,"ngIf"],[3,"ngIf"],["mode","indeterminate",4,"ngIf"],[1,"isLoading"],["diameter","20","color","primary","mode","indeterminate"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"container"],[1,"containerTop"],["class","top",3,"cardData","cardRoute",4,"ngFor","ngForOf"],[1,"top",3,"cardData","cardRoute"],[1,"containerBottom"],[1,"app-graph-card",3,"chartoptions"],["mode","indeterminate"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Dashboard"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t._uU(5," All Stats \xa0"),t._UZ(6,"i",3),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,M,2,0,"div",5),t.YNc(9,w,2,1,"ng-container",6),t.qZA()()(),t.YNc(10,T,6,3,"ng-template",7),t.YNc(11,Z,1,0,"mat-progress-bar",8)),2&o&&(t.xp6(8),t.Q6J("ngIf",e.isdropdownLoading),t.xp6(1),t.Q6J("ngIf",!e.isdropdownLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading),t.xp6(1),t.Q6J("ngIf",e.isLoading))},dependencies:[d.sg,d.O5,p.rH,v.W,D.G,C.Ou,f.pW,d.gd],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;margin:0;text-align:center}.header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;width:150px}.header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:0;background-color:#f9f9f9;min-width:150px;min-height:50px;box-shadow:0 8px 16px #0003;z-index:1;border-radius:5px}.header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:2px;color:#000;padding:12px 16px;text-decoration:none;display:block;border-radius:5px}.header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4b5db5;color:#fff}.header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%]   .containerTop[_ngcontent-%COMP%]{display:flex;width:100%;column-gap:50px;justify-content:space-between;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .containerTop[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{flex-grow:1;width:320px}.container[_ngcontent-%COMP%]   .containerBottom[_ngcontent-%COMP%]{display:flex;column-gap:50px;row-gap:50px}.container[_ngcontent-%COMP%]   .containerBottom[_ngcontent-%COMP%]   .app-graph-card[_ngcontent-%COMP%]{width:50%}.isLoading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white;padding:20px}@media screen and (max-width: 1000px){.app-graph-card[_ngcontent-%COMP%]{width:100%}.containerBottom[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(k),p.Bz]}),n})();var b=r(9908);let B=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[m,u.C],imports:[d.ez,A,b.m,l.JF,C.Cq,f.Cv,b.m]}),n})()}}]);